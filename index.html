<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="CLPCPTVwwNabp1gXKoG8GLJUOcWDm7Dt-t0xgnAPGhM" />
  <meta name="description" contect="Web-based calculator for stall speed of an aerofoil. Enter wing loading, altitude, and Clmax to compute Vs using Vs = √(2W/ρSCₗ).">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://samrat079.github.io/stall_speed_calculator/favicon.svg" type="image/svg+xml">
  
  <title>Stall Speed Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #212121;
      color: #f5f5f5;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    
    .calculator {
      background-color: #333333;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      padding: 2rem;
      width: 100%;
      max-width: 400px;
    }
    
    h1 {
      color: #e0e0e0;
      text-align: center;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    .input-group {
      margin-bottom: 1.5rem;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      color: #bbbbbb;
      font-weight: bold;
    }

    .input-with-unit {
      position: relative;
      width: 100%;
    }

    input[type=number] {
      width: 100%;
      padding: 0.75rem;
      padding-right: 5rem; /* space for unit select */
      border: 1px solid #555;
      border-radius: 4px;
      font-size: 1rem;
      background-color: #424242;
      color: #ffffff;
      box-sizing: border-box;
      -moz-appearance: textfield; /* Firefox */
    }

    /* Hide num scroll in Chrome*/
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Hide num scroll in Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }

    select {
      position: absolute;
      right: 0;
      top: 0;
      height: 100%;
      width: 4.5rem; /* Fixed width for both dropdowns */
      padding: 0 0.5rem;
      border: none;
      border-left: 1px solid #555;
      border-top-right-radius: 4px;
      border-bottom-right-radius: 4px;
      background-color: #515151;
      color: #ffffff;
      font-size: 0.9rem;
      cursor: pointer;
      text-align: center;
    }

    .result {
      background-color: #424242;
      padding: 1rem;
      border-radius: 4px;
      text-align: center;
      font-size: 1.25rem;
      font-weight: bold;
      margin-top: 1rem;
      color: #4CAF50;
    }
    
    .unit {
      font-size: 0.9rem;
      margin-left: 0.25rem;
    }
    
    .error {
      color: #ff5252;
    }
    
    .clear-btn {
      background-color: #f44336;
      margin-top: 1rem;
      width: 100%;
      padding: 0.75rem;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.2s;
    }
    
    .clear-btn:hover {
      background-color: #d32f2f;
    }
  </style>
</head>
<body>
  <div class="calculator">
    <h1>Stall Speed Calculator</h1>
    
    <div class="input-group">
      <label for="int_wingload">Wing Loading</label>
      <div class="input-with-unit">
        <input type="number" id="int_wingload" placeholder="Enter Wing Loading">
        <select id="unit_wing">
          <option value="kg_m2">kg/m²</option>
          <option value="lb_ft2">lb/ft²</option>
        </select>
      </div>
    </div>
    
    <div class="input-group">
      <label for="int_alt">Altitude</label>
      <div class="input-with-unit">
        <input type="number" id="int_alt" placeholder="Enter Altitude">
        <select id="unit_altitude">
          <option value="feet">ft</option>
          <option value="meters">m</option>
        </select>
      </div>
    </div>
    
    <div class="input-group">
      <label for="int_clmax">Lift Coefficient (CLMax)</label>
      <input type="number" id="int_clmax" placeholder="Enter Lift Coefficient">
    </div>
    
    <div class="input-group">
      <label for="result">Stall Speed (KIAS)</label>
      <div id="result" class="result">0 <span class="unit">kt</span></div>
    </div>
    
    <button class="clear-btn" onclick="clearInputs()">Clear All</button>
  </div>

<script>
  // Conversion constants
  const LB_FT2_TO_KG_M2 = 4.88243;
  const METER_TO_FEET = 3.28084;

  function calculateStallSpeed() {
    // Read inputs
    let wingLoading = parseFloat(document.getElementById("int_wingload").value);
    let altitude = parseFloat(document.getElementById("int_alt").value);
    let clMax = parseFloat(document.getElementById("int_clmax").value);

    const wingUnit = document.getElementById("unit_wing").value;
    const altitudeUnit = document.getElementById("unit_altitude").value;

    // Validation
    if (isNaN(wingLoading) || isNaN(altitude) || isNaN(clMax) || clMax <= 0) {
      document.getElementById("result").innerHTML = `<span class="error">Please enter valid values.</span>`;
      return;
    }

    // conversion lbs > kg , m > ft
    if (wingUnit === "lb_ft2") {
      wingLoading *= LB_FT2_TO_KG_M2; // to kg/m²
    }

    if (altitudeUnit === "meters") {
      altitude *= METER_TO_FEET; // to feet
    }

    // Stall speed formula using kg/m², ft, and CLmax
    const g = 9.80665;
    const rho0 = 1.225;
    const sigma = Math.pow(1 - 6.8756e-6 * altitude, 4.2561);
    const rho = rho0 * sigma;

    const stallSpeedKnots = 1.94384 * Math.sqrt((2 * wingLoading * g) / (rho * clMax));

    document.getElementById("result").innerHTML = `${stallSpeedKnots.toFixed(2)} <span class="unit">kt</span>`;
  }

  // listeners
  document.getElementById("int_wingload").addEventListener("input", calculateStallSpeed);
  document.getElementById("int_alt").addEventListener("input", calculateStallSpeed);
  document.getElementById("int_clmax").addEventListener("input", calculateStallSpeed);
  document.getElementById("unit_wing").addEventListener("change", calculateStallSpeed);
  document.getElementById("unit_altitude").addEventListener("change", calculateStallSpeed);

  function clearInputs() {
    document.getElementById("int_wingload").value = '';
    document.getElementById("int_alt").value = '';
    document.getElementById("int_clmax").value = '';
    document.getElementById("unit_wing").selectedIndex = 0;
    document.getElementById("unit_altitude").selectedIndex = 0;
    document.getElementById("result").innerHTML = `0 <span class="unit">kt</span>`;
  }
</script>

</body>
</html>
