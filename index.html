<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta name="google-site-verification" content="google34f5e52b4b015862.html" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stall Speed Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #212121;
      color: #f5f5f5;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    
    .calculator {
      background-color: #333333;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      padding: 2rem;
      width: 100%;
      max-width: 400px;
    }
    
    h1 {
      color: #e0e0e0;
      text-align: center;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    .input-group {
      margin-bottom: 1.5rem;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      color: #bbbbbb;
      font-weight: bold;
    }

    .input-with-unit {
      position: relative;
      width: 100%;
    }

    input[type=number] {
      width: 100%;
      padding: 0.75rem;
      padding-right: 5rem; /* space for unit select */
      border: 1px solid #555;
      border-radius: 4px;
      font-size: 1rem;
      background-color: #424242;
      color: #ffffff;
      box-sizing: border-box;
      -moz-appearance: textfield; /* Firefox */
    }

    /* Hide number input arrows in Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Hide number input arrows in Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }

    select {
      position: absolute;
      right: 0;
      top: 0;
      height: 100%;
      width: 4.5rem; /* Fixed width for both dropdowns */
      padding: 0 0.5rem;
      border: none;
      border-left: 1px solid #555;
      border-top-right-radius: 4px;
      border-bottom-right-radius: 4px;
      background-color: #515151;
      color: #ffffff;
      font-size: 0.9rem;
      cursor: pointer;
      text-align: center;
    }

    .result {
      background-color: #424242;
      padding: 1rem;
      border-radius: 4px;
      text-align: center;
      font-size: 1.25rem;
      font-weight: bold;
      margin-top: 1rem;
      color: #4CAF50;
    }
    
    .unit {
      font-size: 0.9rem;
      margin-left: 0.25rem;
    }
    
    .error {
      color: #ff5252;
    }
    
    .clear-btn {
      background-color: #f44336;
      margin-top: 1rem;
      width: 100%;
      padding: 0.75rem;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.2s;
    }
    
    .clear-btn:hover {
      background-color: #d32f2f;
    }
  </style>
</head>
<body>
  <div class="calculator">
    <h1>Stall Speed Calculator</h1>
    
    <div class="input-group">
      <label for="input_1">Wing Loading</label>
      <div class="input-with-unit">
        <input type="number" id="input_1" placeholder="Enter Wing Loading">
        <select id="unit_wing">
          <option value="kg_m2">kg/m²</option>
          <option value="lb_ft2">lb/ft²</option>
        </select>
      </div>
    </div>
    
    <div class="input-group">
      <label for="input_2">Altitude</label>
      <div class="input-with-unit">
        <input type="number" id="input_2" placeholder="Enter Altitude">
        <select id="unit_altitude">
          <option value="meters">m</option>
          <option value="feet">ft</option>
        </select>
      </div>
    </div>
    
    <div class="input-group">
      <label for="input_3">Lift Coefficient (CLMax)</label>
      <input type="number" id="input_3" placeholder="Enter Lift Coefficient">
    </div>
    
    <div class="input-group">
      <label for="result">Stall Speed (KIAS)</label>
      <div id="result" class="result">0 <span class="unit">kt</span></div>
    </div>
    
    <button class="clear-btn" onclick="clearInputs()">Clear All</button>
  </div>

<script>
  const input1 = document.getElementById('input_1');
  const input2 = document.getElementById('input_2');
  const input3 = document.getElementById('input_3');
  const resultDisplay = document.getElementById('result');
  const unitWing = document.getElementById('unit_wing');
  const unitAltitude = document.getElementById('unit_altitude');

  // Conversion constants
  const METERS_PER_SECOND_TO_KNOTS = 1.94384; // 1 m/s = 1.94384 knots

  [input1, input2, input3, unitWing, unitAltitude].forEach(input => {
    input.addEventListener('input', calculate);
    input.addEventListener('change', calculate);
  });

  function calculate() {
    const wingLoadingValue = input1.value.trim();
    const altitudeValue = input2.value.trim();
    const liftCoefficientValue = input3.value.trim();
    
    // Check if all fields have been filled
    const allFieldsFilled = wingLoadingValue !== '' && altitudeValue !== '' && liftCoefficientValue !== '';
    
    // If not all fields are filled, just show the default value
    if (!allFieldsFilled) {
      resultDisplay.innerHTML = '0 <span class="unit">kt</span>';
      resultDisplay.classList.remove('error');
      return;
    }
    
    // Convert to numbers for calculation
    let wingLoading = parseFloat(wingLoadingValue);
    let altitude = parseFloat(altitudeValue);
    const liftCoefficient = parseFloat(liftCoefficientValue);

    // Check if all values are valid numbers and positive
    if (isNaN(wingLoading) || isNaN(altitude) || isNaN(liftCoefficient) || 
        wingLoading <= 0 || altitude < 0 || liftCoefficient <= 0) {
      resultDisplay.textContent = "Invalid input";
      resultDisplay.classList.add('error');
      return;
    }
    
    // Convert wing loading if needed
    if (unitWing.value === "lb_ft2") {
      wingLoading = wingLoading * 4.88243; // lb/ft² to kg/m²
    }
    
    // Convert altitude if needed
    if (unitAltitude.value === "feet") {
      altitude = altitude * 0.3048; // ft to meters
    }

    // Calculate air density at altitude
    const rho0 = 1.225; // sea level air density (kg/m³)
    
    // Check if altitude is within valid range
    if (altitude >= 44330) {
      resultDisplay.textContent = "Invalid altitude";
      resultDisplay.classList.add('error');
      return;
    }
    
    const rho = rho0 * Math.pow(1 - (altitude / 44330), 4.255);

    // Calculate stall speed in m/s
    const stallSpeedMS = Math.sqrt((2 * wingLoading) / (rho * liftCoefficient));
    
    // Convert to knots
    const stallSpeedKnots = stallSpeedMS * METERS_PER_SECOND_TO_KNOTS;
    
    // Display the result
    resultDisplay.innerHTML = stallSpeedKnots.toFixed(1) + ' <span class="unit">kt</span>';
    resultDisplay.classList.remove('error');
  }

  function clearInputs() {
    input1.value = '';
    input2.value = '';
    input3.value = '';
    unitWing.selectedIndex = 0;
    unitAltitude.selectedIndex = 0;
    resultDisplay.innerHTML = '0 <span class="unit">kt</span>';
    resultDisplay.classList.remove('error');
  }
</script>

</body>
</html>
